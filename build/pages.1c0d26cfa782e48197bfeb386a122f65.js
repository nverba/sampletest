"";function MakePromise(e){function t(e){if("object"!==_typeof(this)||"function"!=typeof e)throw new TypeError;this._state=null,this._value=null,this._deferreds=[],o(e,s.bind(this),n.bind(this))}function i(t){var i=this;return null===this._state?void this._deferreds.push(t):void e(function(){var e=i._state?t.onFulfilled:t.onRejected;if("function"!=typeof e)return void(i._state?t.resolve:t.reject)(i._value);var s;try{s=e(i._value)}catch(n){return void t.reject(n)}t.resolve(s)})}function s(e){try{if(e===this)throw new TypeError;if(e&&("object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void o(t.bind(e),s.bind(this),n.bind(this))}this._state=!0,this._value=e,r.call(this)}catch(i){n.call(this,i)}}function n(e){this._state=!1,this._value=e,r.call(this)}function r(){for(var e=0,t=this._deferreds.length;e<t;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function o(e,t,i){var s=!1;try{e(function(e){s||(s=!0,t(e))},function(e){s||(s=!0,i(e))})}catch(n){if(s)return;s=!0,i(n)}}return t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype.then=function(e,s){var n=this;return new t(function(t,r){i.call(n,{onFulfilled:e,onRejected:s,resolve:t,reject:r})})},t.resolve=function(e){return e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,i){i(e)})},t}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Polymer({is:"product-detail",properties:{product:{type:Object,observer:"_log"},hasActiveProduct:{type:Boolean,value:!1}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],_useStyle:function(e,t,i){return e?t:i||""},_log:function(){}}),Polymer({is:"main-page"}),Polymer({is:"plain-header",properties:{number:String,title:String,icon:String,disabled:{type:Boolean,value:!1}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"info-message",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"group-promotion",behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"member-initial",properties:{value:String,isGroupLeader:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],acroName:function(e){return e?e.length&&!isNaN(e.replace(/-/g,""))?"#":e.length>1?(e.charAt(0)+e.slice(1,e.length).replace(/[aeiou]/,"").slice(0,1)).toUpperCase():void 0:"?"},useStyle:function(e,t,i){return e?t:""|i}}),Polymer({is:"existing-members",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],showMember:function(e,t){return e.email||e.mobile||e.name||t.first_name||t.username},setBackground:function(e){return e%2?"#f4f4f4":"#fafafa"},isGroupLeader:function(e){return e.inviter_id===e.user_id}}),Polymer({is:"invitee-list",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],setBackground:function(e){return e%2?"#efefef":"#fff"}}),"undefined"!=typeof module&&(module.exports=MakePromise),window.Promise||(window.Promise=MakePromise(Polymer.Base.async)),Polymer({is:"iron-request",hostAttributes:{hidden:!0},properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},status:{type:Number,notify:!0,readOnly:!0,value:0},statusText:{type:String,notify:!0,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(e,t){this.resolveCompletes=e,this.rejectCompletes=t}.bind(this))}},progress:{type:Object,notify:!0,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1},errored:{type:Boolean,notify:!0,readOnly:!0,value:!1},timedOut:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){if(this.errored||this.aborted||this.timedOut)return!1;var e=this.xhr.status||0;return 0===e||e>=200&&e<300},send:function(e){var t=this.xhr;if(t.readyState>0)return null;t.addEventListener("progress",function(e){this._setProgress({lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total})}.bind(this)),t.addEventListener("error",function(e){this._setErrored(!0),this._updateStatus(),this.rejectCompletes(e)}.bind(this)),t.addEventListener("timeout",function(e){this._setTimedOut(!0),this._updateStatus(),this.rejectCompletes(e)}.bind(this)),t.addEventListener("abort",function(){this._updateStatus(),this.rejectCompletes(new Error("Request aborted."))}.bind(this)),t.addEventListener("loadend",function(){return this._updateStatus(),this.succeeded?(this._setResponse(this.parseResponse()),void this.resolveCompletes(this)):void this.rejectCompletes(new Error("The request failed with status code: "+this.xhr.status))}.bind(this)),this.url=e.url,t.open(e.method||"GET",e.url,e.async!==!1);var i={json:"application/json",text:"text/plain",html:"text/html",xml:"application/xml",arraybuffer:"application/octet-stream"}[e.handleAs],s=e.headers||Object.create(null),n=Object.create(null);for(var r in s)n[r.toLowerCase()]=s[r];if(s=n,i&&!s.accept&&(s.accept=i),Object.keys(s).forEach(function(e){/[A-Z]/.test(e)&&Polymer.Base._error("Headers must be lower case, got",e),t.setRequestHeader(e,s[e])},this),e.async!==!1){var o=e.handleAs;!e.jsonPrefix&&o||(o="text"),t.responseType=t._responseType=o,e.jsonPrefix&&(t._jsonPrefix=e.jsonPrefix)}t.withCredentials=!!e.withCredentials,t.timeout=e.timeout;var a=this._encodeBodyObject(e.body,s["content-type"]);return t.send(a),this.completes},parseResponse:function(){var e=this.xhr,t=e.responseType||e._responseType,i=!this.xhr.responseType,s=e._jsonPrefix&&e._jsonPrefix.length||0;try{switch(t){case"json":if(i||void 0===e.response)try{return JSON.parse(e.responseText)}catch(n){return null}return e.response;case"xml":return e.responseXML;case"blob":case"document":case"arraybuffer":return e.response;case"text":default:if(s)try{return JSON.parse(e.responseText.substring(s))}catch(n){return null}return e.responseText}}catch(r){this.rejectCompletes(new Error("Could not parse response. "+r.message))}},abort:function(){this._setAborted(!0),this.xhr.abort()},_encodeBodyObject:function(e,t){if("string"==typeof e)return e;var i=e;switch(t){case"application/json":return JSON.stringify(i);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(i)}return e},_wwwFormUrlEncode:function(e){if(!e)return"";var t=[];return Object.keys(e).forEach(function(i){t.push(this._wwwFormUrlEncodePiece(i)+"="+this._wwwFormUrlEncodePiece(e[i]))},this),t.join("&")},_wwwFormUrlEncodePiece:function(e){return encodeURIComponent(e.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")},_updateStatus:function(){this._setStatus(this.xhr.status),this._setStatusText(void 0===this.xhr.statusText?"":this.xhr.statusText)}}),Polymer({is:"iron-ajax",hostAttributes:{hidden:!0},properties:{url:{type:String},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:!1},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:!1},timeout:{type:Number,value:0},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},lastRequest:{type:Object,notify:!0,readOnly:!0},loading:{type:Boolean,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},debounceDuration:{type:Number,value:0,notify:!0},jsonPrefix:{type:String,value:""},bubbles:{type:Boolean,value:!1},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params.*, headers, contentType, body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)"],get queryString(){var e,t,i=[];for(e in this.params)if(t=this.params[e],e=window.encodeURIComponent(e),Array.isArray(t))for(var s=0;s<t.length;s++)i.push(e+"="+window.encodeURIComponent(t[s]));else null!==t?i.push(e+"="+window.encodeURIComponent(t)):i.push(e);return i.join("&")},get requestUrl(){var e=this.queryString;if(e){var t=this.url.indexOf("?")>=0?"&":"?";return this.url+t+e}return this.url},get requestHeaders(){var e={},t=this.contentType;null==t&&"string"==typeof this.body&&(t="application/x-www-form-urlencoded"),t&&(e["content-type"]=t);var i;if(this.headers instanceof Object)for(i in this.headers)e[i]=this.headers[i].toString();return e},toRequestOptions:function(){return{url:this.requestUrl||"",method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,jsonPrefix:this.jsonPrefix,withCredentials:this.withCredentials,timeout:this.timeout}},generateRequest:function(){var e=document.createElement("iron-request"),t=this.toRequestOptions();return this.activeRequests.push(e),e.completes.then(this._boundHandleResponse)["catch"](this._handleError.bind(this,e)).then(this._discardRequest.bind(this,e)),e.send(t),this._setLastRequest(e),this._setLoading(!0),this.fire("request",{request:e,options:t},{bubbles:this.bubbles}),e},_handleResponse:function(e){e===this.lastRequest&&(this._setLastResponse(e.response),this._setLastError(null),this._setLoading(!1)),this.fire("response",e,{bubbles:this.bubbles})},_handleError:function(e,t){this.verbose&&Polymer.Base._error(t),e===this.lastRequest&&(this._setLastError({request:e,error:t,status:e.xhr.status,statusText:e.xhr.statusText,response:e.xhr.response}),this._setLastResponse(null),this._setLoading(!1)),this.fire("error",{request:e,error:t},{bubbles:this.bubbles})},_discardRequest:function(e){var t=this.activeRequests.indexOf(e);t>-1&&this.activeRequests.splice(t,1)},_requestOptionsChanged:function(){this.debounce("generate-request",function(){null!=this.url&&this.auto&&this.generateRequest()},this.debounceDuration)}}),Polymer({is:"iron-form","extends":"form",properties:{disableNativeValidationUi:{type:Boolean,value:!1},withCredentials:{type:Boolean,value:!1},contentType:{type:String,value:"application/x-www-form-urlencoded"},headers:{type:Object,value:function(){return{}}},request:{type:Object}},listeners:{"iron-form-element-register":"_registerElement","iron-form-element-unregister":"_unregisterElement",submit:"_onSubmit",reset:"_onReset"},registered:function(){var e=document.createElement("form"),t=document.createElement("input");t.setAttribute("required","true"),e.appendChild(t);var i=document.createElement("input");i.setAttribute("type","submit"),e.appendChild(i),Polymer.clientSupportsFormValidationUI=!0,e.addEventListener("submit",function(e){Polymer.clientSupportsFormValidationUI=!1,e.preventDefault()}),i.click()},ready:function(){this.request=document.createElement("iron-ajax"),this.request.addEventListener("response",this._handleFormResponse.bind(this)),this.request.addEventListener("error",this._handleFormError.bind(this)),this._customElements=[],this._customElementsInitialValues=[]},submit:function(){if(!this.noValidate&&!this.validate())return Polymer.clientSupportsFormValidationUI&&!this.disableNativeValidationUi&&this._doFakeSubmitForValidation(),void this.fire("iron-form-invalid");var e=this.serialize();this.request.url=this.getAttribute("action"),this.request.method=this.getAttribute("method"),this.request.contentType=this.contentType,this.request.withCredentials=this.withCredentials,this.request.headers=this.headers,"POST"===this.method.toUpperCase()?this.request.body=e:this.request.params=e;var t=this.fire("iron-form-presubmit",{},{cancelable:!0});t.defaultPrevented||(this.request.generateRequest(),this.fire("iron-form-submit",e))},_onSubmit:function(e){return this.submit(),e&&e.preventDefault(),!1},_onReset:function(e){this._resetCustomElements()},serialize:function(){function e(e,t){i[e]?(Array.isArray(i[e])||(i[e]=[i[e]]),i[e].push(t)):i[e]=t}for(var t,i={},s=0;t=this._customElements[s],s<this._customElements.length;s++)!this._isChildOfRegisteredParent(t)&&this._useValue(t)&&e(t.name,t.value);for(var t,s=0;t=this.elements[s],s<this.elements.length;s++)if(!this._isChildOfRegisteredParent(t)&&this._useValue(t))if("select"===t.tagName.toLowerCase()&&t.multiple)for(var n=0;n<t.options.length;n++)t.options[n].selected&&e(t.name,t.options[n].value);else e(t.name,t.value);return i},_handleFormResponse:function(e){this.fire("iron-form-response",e.detail)},_handleFormError:function(e){this.fire("iron-form-error",e.detail)},_registerElement:function(e){var t=Polymer.dom(e).rootTarget;t._parentForm=this,this._customElements.push(t),this._customElementsInitialValues.push(this._usesCheckedInsteadOfValue(t)?t.checked:t.value)},_unregisterElement:function(e){var t=e.detail.target;if(t){var i=this._customElements.indexOf(t);i>-1&&(this._customElements.splice(i,1),this._customElementsInitialValues.splice(i,1))}},validate:function(){for(var e,t,i=!0,s=0;t=this._customElements[s],s<this._customElements.length;s++)t.required&&!t.disabled&&(e=t,e.validate&&(i=!!e.validate()&&i));for(var t,s=0;t=this.elements[s],s<this.elements.length;s++)!t.hasAttribute("is")&&t.willValidate&&t.checkValidity&&(i=t.checkValidity()&&i);return i},_usesCheckedInsteadOfValue:function(e){return!("checkbox"!=e.type&&"radio"!=e.type&&"checkbox"!=e.getAttribute("role")&&"radio"!=e.getAttribute("role")&&!e._hasIronCheckedElementBehavior)},_useValue:function(e){return!(e.disabled||!e.name)&&(!this._usesCheckedInsteadOfValue(e)||e.checked)},_doFakeSubmitForValidation:function(){var e=document.createElement("input");e.setAttribute("type","submit"),e.style.display="none",this.appendChild(e),e.click(),this.removeChild(e)},_resetCustomElements:function(){this.async(function(){for(var e,t=0;e=this._customElements[t],t<this._customElements.length;t++)e.disabled||(this._usesCheckedInsteadOfValue(e)?e.checked=this._customElementsInitialValues[t]:(e.value=this._customElementsInitialValues[t],e.inputElement?e.inputElement.value=e.value:e.textarea&&(e.textarea.value=e.value)),e.invalid=!1);this.fire("iron-form-reset")},1)},_isChildOfRegisteredParent:function(e){for(var t=e;t&&t!==document&&t!=this;)if(t=Polymer.dom(t).parentNode||t.host,t&&t.name&&t._parentForm===this)return!0;return!1}}),Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){this.fire("iron-form-element-register")},detached:function(){this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}},Polymer({is:"phone-input",properties:{value:{type:String,notify:!0},name:{type:String},label:{type:String,value:""},noLabel:{type:Boolean,value:!1,reflectToAttribute:!0},placeholder:{type:String},size:{type:Number,value:3},countryCode:{type:String},phoneNumber:{type:String},required:{type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},invalid:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},_boundOnInputFocus:{type:Function,value:function(){return this._onInputFocus.bind(this)}},_boundOnInputBlur:{type:Function,value:function(){return this._onInputBlur.bind(this)}},_boundOnInvalid:{type:Function,value:function(){return this._onInvalid.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundOnSelectFocus:{type:Function,value:function(){return this._onSelectFocus.bind(this)}},_boundOnSelectBlur:{type:Function,value:function(){return this._onSelectBlur.bind(this)}},_boundOnSelectClick:{type:Function,value:function(){return this._onSelectClick.bind(this)}},_boundOnOptionClick:{type:Function,value:function(){return this._onOptionClick.bind(this)}}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior,Polymer.IronFormElementBehavior],observers:["_updateValue(countryCode, phoneNumber)","_valueUpdated(value)"],ready:function(){var e=this.$.countryCode,t=this.$.phoneNumber;t.addEventListener("focus",this._boundOnInputFocus),t.addEventListener("blur",this._boundOnInputBlur),t.addEventListener("invalid",this._boundOnInvalid),t.addEventListener("input",this._boundOnInput),t.addEventListener("change",this._boundOnInput),t.setAttribute("_previousValidInput",""),e.addEventListener("focus",this._boundOnSelectFocus),e.addEventListener("blur",this._boundOnSelectBlur),e.addEventListener("click",this._boundOnSelectClick),e.setAttribute("size",!1),e.setAttribute("autocomplete","off"),this.countryCode=e.value},_renderOptions:function(e){var t=this,i=this.$.countryCode;i.innerHTML="",e.forEach(function(e){t._createOption(i,e,e)}),this.countryCode=i.value},_createOption:function(e,t,i){var s=document.createElement("option");s.innerHTML=t,s.value=i,s.autoAdded=!0,s.addEventListener("click",this._boundOnOptionClick),Polymer.dom(e).appendChild(s)},_onInputFocus:function(){this._setFocused(!0)},_onInputBlur:function(){this._setFocused(!1)},_onInvalid:function(){this.invalid=!0},_onSelectFocus:function(e){this._setFocused(!0),e.target.setAttribute("size",this.size)},_onSelectBlur:function(e){this._setFocused(!1),e.target.setAttribute("size",!1),e.target.opened=!1},_onOptionClick:function(e){e.target.parentNode.blur(),this.$.phoneNumber.focus()},_onSelectClick:function(e){var t=e.target;"SELECT"===t.tagName&&(t.opened?(t.opened=!1,t.blur(),this.$.phoneNumber.focus()):t.opened=!0)},_updateValue:function(e,t){this.value=""+e+t},_valueUpdated:function(e){""===e&&(this.phoneNumber="")},_patternRegExp:function(e){var t=void 0,i=e.getAttribute("allowed-pattern");if(i)t=new RegExp(i);else switch(e.type){case"number":t=/[0-9.,e-]/}return t},_checkPatternValidity:function(e){var t=this._patternRegExp(e);if(!t)return!0;for(var i=0;i<e.value.length;i++)if(!t.test(e.value[i]))return!1;return!0},_onInput:function(e){var t=e.target,i=this._checkPatternValidity(t);i?(t.setAttribute("_previousValidInput",t.value),this.invalid=!t.validity.valid):t.value=t.getAttribute("_previousValidInput")}}),Polymer({is:"input-wrapper",properties:{autoValidate:{type:Boolean,value:!0},label:{type:String,value:""},noLabel:{type:Boolean,value:!1,reflectToAttribute:!0},dividerWidth:{type:Number,value:2},disabled:{type:Boolean,value:!1,notify:!0},readonly:{type:Boolean,value:!1,notify:!0},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},invalid:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundOnInvalid:{type:Function,value:function(){return this._onInvalid.bind(this)}}},ready:function(){var e=this,t=this.queryAllEffectiveChildren("input"),i=this.queryAllEffectiveChildren(":not(input):not([prefix]):not([suffix])"),s=(100-i.length*this.dividerWidth)/t.length;t.forEach(function(i){i.addEventListener("focus",e._boundOnFocus),i.addEventListener("blur",e._boundOnBlur),i.addEventListener("input",e._boundOnInput),i.addEventListener("change",e._boundOnInput),i.addEventListener("invalid",e._boundOnInvalid),i.style.width=s+"%",i.setAttribute("_previousValidInput",""),i.disabled=e.disabled,i.readOnly=e.readonly,t.length>1&&i.style.setProperty("text-align","center","important")}),i.forEach(function(t){t.style.width=e.dividerWidth+"%"})},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._autoValidateInputs()},_onInvalid:function(){this.invalid=!0},_autoValidateInputs:function(){if(this.autoValidate||this.invalid){var e=this.queryAllEffectiveChildren("input");e.some(function(e){return!e.validity.valid})?this.invalid=!0:this.invalid=!1}},_patternRegExp:function(e){var t=void 0,i=e.getAttribute("allowed-pattern");if(i)t=new RegExp(i);else switch(e.type){case"number":t=/[0-9.,e-]/}return t},_checkPatternValidity:function(e){var t=this._patternRegExp(e);if(!t)return!0;for(var i=0;i<e.value.length;i++)if(!t.test(e.value[i]))return!1;return!0},_onInput:function(e){var t=e.target,i=this._checkPatternValidity(t);i?(t.setAttribute("_previousValidInput",t.value),this._autoValidateInputs()):t.value=t.getAttribute("_previousValidInput")}}),Polymer({is:"invite-buttons",properties:{isEmail:{type:Boolean,value:!0},inviteeEmail:{type:String,value:""},inviteePhone:{type:String,value:""},invalid:{type:Boolean,value:!0}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior,RubberRedux.FormBehavior],useStyle:function(e,t,i){return e?t:i||""},_emailClick:function(){this.inviteeEmail="",this.inviteePhone="",this.invalid=!0,this.isEmail=!0;var e=this.$.emailInput;e.value="",e.focus()},_mobileClick:function(){this.inviteeEmail="",this.inviteePhone="",this.invalid=!0,this.isEmail=!1,this.$.phoneInput.$.phoneNumber.focus()},emailSelected:function(e){return e?"selected":"unselected"},mobileSelected:function(e){return e?"unselected":"selected"},addEmailInvite:function(){},addMobileInvite:function(){},stopPropagation:function(e){e.stopPropagation()}}),Polymer({is:"textarea-wrapper",properties:{label:{type:String,value:""},noLabel:{type:Boolean,value:!1,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0},readonly:{type:Boolean,value:!1,notify:!0},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},invalid:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundOnInvalid:{type:Function,value:function(){return this._onInvalid.bind(this)}}},ready:function(){var e=this.queryEffectiveChildren("textarea");e&&(e.addEventListener("focus",this._boundOnFocus),e.addEventListener("blur",this._boundOnBlur),e.addEventListener("input",this._boundOnInput),e.addEventListener("change",this._boundOnInput),e.addEventListener("invalid",this._boundOnInvalid),e.setAttribute("_previousValidInput",""),e.disabled=this.disabled,e.readOnly=this.readonly)},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1)},_onInvalid:function(){this.invalid=!0},_patternRegExp:function(e){var t=void 0,i=e.getAttribute("allowed-pattern");if(i)t=new RegExp(i);else switch(e.type){case"number":t=/[0-9.,e-]/}return t},_checkPatternValidity:function(e){var t=this._patternRegExp(e);if(!t)return!0;for(var i=0;i<e.value.length;i++)if(!t.test(e.value[i]))return!1;return!0},_onInput:function(e){var t=e.target,i=this._checkPatternValidity(t);i?(t.setAttribute("_previousValidInput",t.value),t.style.height="",t.style.height=t.scrollHeight+"px"):t.value=t.getAttribute("_previousValidInput")}}),Polymer({is:"page-section",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"page-action",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"invite-page",behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"auth-frame",behaviors:[RubberRedux.StateBehavior]}),Polymer({is:"auth-page",behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),function(){function e(e,t){var i="";if(e){var s=e.toLowerCase();" "===s||p.test(s)?i="space":_.test(s)?i="esc":1==s.length?t&&!h.test(s)||(i=s):i=d.test(s)?s.replace("arrow",""):"multiply"==s?"*":s}return i}function t(e){var t="";return e&&(e in a?t=a[e]:c.test(e)?(e=parseInt(e.replace("U+","0x"),16),t=String.fromCharCode(e).toLowerCase()):t=e.toLowerCase()),t}function i(e){var t="";return Number(e)&&(t=e>=65&&e<=90?String.fromCharCode(32+e):e>=112&&e<=123?"f"+(e-112):e>=48&&e<=57?String(e-48):e>=96&&e<=105?String(e-96):l[e]),t}function s(s,n){return e(s.key,n)||t(s.keyIdentifier)||i(s.keyCode)||e(s.detail?s.detail.key:s.detail,n)||""}function n(e,t){var i=s(t,e.hasModifiers);return i===e.key&&(!e.hasModifiers||!!t.shiftKey==!!e.shiftKey&&!!t.ctrlKey==!!e.ctrlKey&&!!t.altKey==!!e.altKey&&!!t.metaKey==!!e.metaKey)}function r(e){return 1===e.length?{combo:e,key:e,event:"keydown"}:e.split("+").reduce(function(e,t){var i=t.split(":"),s=i[0],n=i[1];return s in u?(e[u[s]]=!0,e.hasModifiers=!0):(e.key=s,e.event=n||"keydown"),e},{combo:e.split(":").shift()})}function o(e){return e.trim().split(" ").map(function(e){return r(e)})}var a={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},l={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},u={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},h=/[a-z0-9*]/,c=/U\+/,d=/^arrow/,p=/^space(bar)?/,_=/^escape$/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,t){this._imperativeKeyBindings[e]=t,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,t){for(var i=o(t),s=0;s<i.length;++s)if(n(i[s],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map(function(e){return e.keyBindings});return e.indexOf(this.keyBindings)===-1&&e.push(this.keyBindings),e},_prepKeyBindings:function(){this._keyBindings={},this._collectKeyBindings().forEach(function(e){for(var t in e)this._addKeyBinding(t,e[t])},this);for(var e in this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e]);for(var t in this._keyBindings)this._keyBindings[t].sort(function(e,t){var i=e[0].hasModifiers,s=t[0].hasModifiers;return i===s?0:i?-1:1})},_addKeyBinding:function(e,t){o(e).forEach(function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,t])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(e){var t=this._keyBindings[e],i=this._onKeyBindingEvent.bind(this,t);this._boundKeyHandlers.push([this.keyEventTarget,e,i]),this.keyEventTarget.addEventListener(e,i)},this)},_unlistenKeyEventListeners:function(){for(var e,t,i,s;this._boundKeyHandlers.length;)e=this._boundKeyHandlers.pop(),t=e[0],i=e[1],s=e[2],t.removeEventListener(i,s)},_onKeyBindingEvent:function(e,t){if(this.stopKeyboardEventPropagation&&t.stopPropagation(),!t.defaultPrevented)for(var i=0;i<e.length;i++){var s=e[i][0],r=e[i][1];if(n(s,t)&&(this._triggerKeyHandler(s,r,t),t.defaultPrevented))return}},_triggerKeyHandler:function(e,t,i){var s=Object.create(e);s.keyboardEvent=i;var n=new CustomEvent(e.event,{detail:s,cancelable:!0});this[t].call(this,n),n.defaultPrevented&&i.preventDefault()}}}(),Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_scrollTargetChanged:function(e,t){var i;this._oldScrollTarget&&(i=this._oldScrollTarget===this._doc?window:this._oldScrollTarget,i.removeEventListener("scroll",this._boundScrollHandler),this._oldScrollTarget=null),t&&("document"===e?this.scrollTarget=this._doc:"string"==typeof e?this.scrollTarget=this.domHost?this.domHost.$[e]:Polymer.dom(this.ownerDocument).querySelector("#"+e):this._isValidScrollTarget()&&(i=e===this._doc?window:e,this._boundScrollHandler=this._boundScrollHandler||this._scrollHandler.bind(this),this._oldScrollTarget=e,i.addEventListener("scroll",this._boundScrollHandler)))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(e){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=e)},set _scrollLeft(e){this.scrollTarget===this._doc?window.scrollTo(e,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=e)},scroll:function(e,t){this.scrollTarget===this._doc?window.scrollTo(e,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=e,this.scrollTarget.scrollTop=t)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement}},function(){var e=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),t=e&&e[1]>=8,i=3,s="-10000px",n=200,r=-100;Polymer({is:"iron-list",properties:{items:{type:Array},maxPhysicalCount:{type:Number,value:500},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget)"],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronScrollTargetBehavior],keyBindings:{up:"_didMoveUp",down:"_didMoveDown",enter:"_didEnter"},_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_physicalIndexForKey:null,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_collection:null,_itemsRendered:!1,_lastPage:null,_maxPages:3,_focusedItem:null,_focusedIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){var e=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return e-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollerPaddingTop},_minVirtualStart:0,get _maxVirtualStart(){return Math.max(0,this._virtualCount-this._physicalCount)},_virtualStartVal:0,set _virtualStart(e){this._virtualStartVal=Math.min(this._maxVirtualStart,Math.max(this._minVirtualStart,e))},get _virtualStart(){return this._virtualStartVal||0;
},_physicalStartVal:0,set _physicalStart(e){this._physicalStartVal=e%this._physicalCount,this._physicalStartVal<0&&(this._physicalStartVal=this._physicalCount+this._physicalStartVal),this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalStart(){return this._physicalStartVal||0},_physicalCountVal:0,set _physicalCount(e){this._physicalCountVal=e,this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal},_physicalEnd:0,get _optPhysicalSize(){return this.grid?this._estRowsInView*this._rowHeight*this._maxPages:this._viewportHeight*this._maxPages},get _optPhysicalCount(){return this._estRowsInView*this._itemsPerRow*this._maxPages},get _isVisible(){return this.scrollTarget&&Boolean(this.scrollTarget.offsetWidth||this.scrollTarget.offsetHeight)},get firstVisibleIndex(){if(null===this._firstVisibleIndexVal){var e=Math.floor(this._physicalTop+this._scrollerPaddingTop);this._firstVisibleIndexVal=this._iterateItems(function(t,i){return e+=this._getPhysicalSizeIncrement(t),e>this._scrollPosition?this.grid?i-i%this._itemsPerRow:i:this.grid&&this._virtualCount-1===i?i-i%this._itemsPerRow:void 0})||0}return this._firstVisibleIndexVal},get lastVisibleIndex(){if(null===this._lastVisibleIndexVal)if(this.grid){var e=this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1;this._lastVisibleIndexVal=Math.min(this._virtualCount,e)}else{var t=this._physicalTop;this._iterateItems(function(e,i){return!(t<this._scrollBottom)||(this._lastVisibleIndexVal=i,void(t+=this._getPhysicalSizeIncrement(e)))})}return this._lastVisibleIndexVal},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this.updateViewportBoundaries(),this._render(),this.listen(this,"iron-resize","_resizeHandler")},detached:function(){this._itemsRendered=!1,this.unlisten(this,"iron-resize","_resizeHandler")},_setOverflow:function(e){this.style.webkitOverflowScrolling=e===this?"touch":"",this.style.overflow=e===this?"auto":""},updateViewportBoundaries:function(){this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(window.getComputedStyle(this)["padding-top"],10),this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var e,t,i,s,n,r=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),o=r-this._scrollPosition,a=this._ratio,l=0,u=this._hiddenContentSize,h=a,c=[];if(this._scrollPosition=r,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,s=this._scrollBottom,n=this._physicalBottom,Math.abs(o)>this._physicalSize)this._physicalTop+=o,l=Math.round(o/this._physicalAverage);else if(o<0){var d=r-this._physicalTop,p=this._virtualStart;for(i=[],t=this._physicalEnd,h=d/u;h<a&&l<this._physicalCount&&p-l>0&&n-this._getPhysicalSizeIncrement(t)>s;)e=this._getPhysicalSizeIncrement(t),h+=e/u,n-=e,i.push(t),l++,t=0===t?this._physicalCount-1:t-1;c=i,l=-l}else if(o>0){var _=n-s,f=this._virtualEnd,v=this._virtualCount-1;for(i=[],t=this._physicalStart,h=_/u;h<a&&l<this._physicalCount&&f+l<v&&this._physicalTop+this._getPhysicalSizeIncrement(t)<r;)e=this._getPhysicalSizeIncrement(t),h+=e/u,this._physicalTop+=e,i.push(t),l++,t=(t+1)%this._physicalCount}0===l?(n<s||this._physicalTop>r)&&this._increasePoolIfNeeded():(this._virtualStart=this._virtualStart+l,this._physicalStart=this._physicalStart+l,this._update(i,c))},_update:function(e,t){if(this._manageFocus(),this._assignModels(e),this._updateMetrics(e),t)for(;t.length;){var i=t.pop();this._physicalTop-=this._getPhysicalSizeIncrement(i)}this._positionItems(),this._updateScrollerSize(),this._increasePoolIfNeeded()},_createPool:function(e){var t=new Array(e);this._ensureTemplatized();for(var i=0;i<e;i++){var s=this.stamp(null);t[i]=s.root.querySelector("*"),Polymer.dom(this).appendChild(s.root)}return t},_increasePoolIfNeeded:function(){if(0===this._viewportHeight)return!1;var e=this._physicalBottom>=this._scrollBottom&&this._physicalTop<=this._scrollPosition;if(this._physicalSize>=this._optPhysicalSize&&e)return!1;var t=Math.floor(this._physicalSize/this._viewportHeight);return 0===t?this._debounceTemplate(this._increasePool.bind(this,Math.round(.5*this._physicalCount))):this._lastPage!==t&&e?Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",this._increasePool.bind(this,this._itemsPerRow),16)):this._debounceTemplate(this._increasePool.bind(this,this._itemsPerRow)),this._lastPage=t,!0},_increasePool:function(e){var t=Math.min(this._physicalCount+e,this._virtualCount-this._virtualStart,Math.max(this.maxPhysicalCount,i)),s=this._physicalCount,n=t-s;n<=0||([].push.apply(this._physicalItems,this._createPool(n)),[].push.apply(this._physicalSizes,new Array(n)),this._physicalCount=s+n,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedIndex)&&this._getPhysicalIndex(this._focusedIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+n),this._update())},_render:function(){var e=this._virtualCount>0||this._physicalCount>0;this.isAttached&&!this._itemsRendered&&this._isVisible&&e&&(this._lastPage=0,this._update(),this._itemsRendered=!0)},_ensureTemplatized:function(){if(!this.ctor){var e={};e.__key__=!0,e[this.as]=!0,e[this.indexAs]=!0,e[this.selectedAs]=!0,e.tabIndex=!0,this._instanceProps=e,this._userTemplate=Polymer.dom(this).querySelector("template"),this._userTemplate?this.templatize(this._userTemplate):console.warn("iron-list requires a template to be provided in light-dom")}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(e,t,i){0===t.indexOf(this.as+".")&&this.notifyPath("items."+e.__key__+"."+t.slice(this.as.length+1),i)},_forwardParentProp:function(e,t){this._physicalItems&&this._physicalItems.forEach(function(i){i._templateInstance[e]=t},this)},_forwardParentPath:function(e,t){this._physicalItems&&this._physicalItems.forEach(function(i){i._templateInstance.notifyPath(e,t,!0)},this)},_forwardItemPath:function(e,t){if(this._physicalIndexForKey){var i=e.indexOf("."),s=e.substring(0,i<0?e.length:i),n=this._physicalIndexForKey[s],r=this._offscreenFocusedItem,o=r&&r._templateInstance.__key__===s?r:this._physicalItems[n];if(o&&o._templateInstance.__key__===s)if(i>=0)e=this.as+"."+e.substring(i+1),o._templateInstance.notifyPath(e,t,!0);else{var a=o._templateInstance[this.as];if(Array.isArray(this.selectedItems)){for(var l=0;l<this.selectedItems.length;l++)if(this.selectedItems[l]===a){this.set("selectedItems."+l,t);break}}else this.selectedItem===a&&this.set("selectedItem",t);o._templateInstance[this.as]=t}}},_itemsChanged:function(e){if("items"===e.path)this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._resetScrollPosition(0),this._removeFocusedItem(),this._physicalItems||(this._physicalCount=Math.max(1,Math.min(i,this._virtualCount)),this._physicalItems=this._createPool(this._physicalCount),this._physicalSizes=new Array(this._physicalCount)),this._physicalStart=0;else{if("items.splices"!==e.path)return void this._forwardItemPath(e.path.split(".").slice(1).join("."),e.value);this._adjustVirtualIndex(e.value.indexSplices),this._virtualCount=this.items?this.items.length:0}this._itemsRendered=!1,this._debounceTemplate(this._render)},_adjustVirtualIndex:function(e){e.forEach(function(e){if(e.removed.forEach(this._removeItem,this),e.index<this._virtualStart){var t=Math.max(e.addedCount-e.removed.length,e.index-this._virtualStart);this._virtualStart=this._virtualStart+t,this._focusedIndex>=0&&(this._focusedIndex=this._focusedIndex+t)}},this)},_removeItem:function(e){this.$.selector.deselect(e),this._focusedItem&&this._focusedItem._templateInstance[this.as]===e&&this._removeFocusedItem()},_iterateItems:function(e,t){var i,s,n,r;if(2===arguments.length&&t){for(r=0;r<t.length;r++)if(i=t[r],s=this._computeVidx(i),null!=(n=e.call(this,i,s)))return n}else{for(i=this._physicalStart,s=this._virtualStart;i<this._physicalCount;i++,s++)if(null!=(n=e.call(this,i,s)))return n;for(i=0;i<this._physicalStart;i++,s++)if(null!=(n=e.call(this,i,s)))return n}},_computeVidx:function(e){return e>=this._physicalStart?this._virtualStart+(e-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+e},_assignModels:function(e){this._iterateItems(function(e,t){var i=this._physicalItems[e],s=i._templateInstance,n=this.items&&this.items[t];null!=n?(s[this.as]=n,s.__key__=this._collection.getKey(n),s[this.selectedAs]=this.$.selector.isSelected(n),s[this.indexAs]=t,s.tabIndex=this._focusedIndex===t?0:-1,this._physicalIndexForKey[s.__key__]=e,i.removeAttribute("hidden")):(s.__key__=null,i.setAttribute("hidden",""))},e)},_updateMetrics:function(e){Polymer.dom.flush();var t=0,i=0,s=this._physicalAverageCount,n=this._physicalAverage;this._iterateItems(function(e,s){i+=this._physicalSizes[e]||0,this._physicalSizes[e]=this._physicalItems[e].offsetHeight,t+=this._physicalSizes[e],this._physicalAverageCount+=this._physicalSizes[e]?1:0},e),this._viewportHeight=this._scrollTargetHeight,this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):this._physicalSize=this._physicalSize+t-i,this._physicalAverageCount!==s&&(this._physicalAverage=Math.round((n*s+t)/this._physicalAverageCount))},_updateGridMetrics:function(){this._viewportWidth=this.$.items.offsetWidth,this._itemWidth=this._physicalCount>0?this._physicalItems[0].getBoundingClientRect().width:n,this._rowHeight=this._physicalCount>0?this._physicalItems[0].offsetHeight:n,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var e=this._physicalTop;if(this.grid){var t=this._itemsPerRow*this._itemWidth,i=(this._viewportWidth-t)/2;this._iterateItems(function(t,s){var n=s%this._itemsPerRow,r=Math.floor(n*this._itemWidth+i);this.translate3d(r+"px",e+"px",0,this._physicalItems[t]),this._shouldRenderNextRow(s)&&(e+=this._rowHeight)})}else this._iterateItems(function(t,i){this.translate3d(0,e+"px",0,this._physicalItems[t]),e+=this._physicalSizes[t]})},_getPhysicalSizeIncrement:function(e){return this.grid?this._computeVidx(e)%this._itemsPerRow!==this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[e]},_shouldRenderNextRow:function(e){return e%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var e=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);e&&(this._physicalTop=this._physicalTop-e,t||0===this._physicalTop||this._resetScrollPosition(this._scrollTop-e))},_resetScrollPosition:function(e){this.scrollTarget&&(this._scrollTop=e,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(e){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,e=e||0===this._scrollHeight,e=e||this._scrollPosition>=this._estScrollHeight-this._physicalSize,e=e||this.grid&&this.$.items.style.height<this._estScrollHeight,(e||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._optPhysicalSize)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToItem:function(e){return this.scrollToIndex(this.items.indexOf(e))},scrollToIndex:function(e){if(!("number"!=typeof e||e<0||e>this.items.length-1)){Polymer.dom.flush(),e=Math.min(Math.max(e,0),this._virtualCount-1),(!this._isIndexRendered(e)||e>=this._maxVirtualStart)&&(this._virtualStart=this.grid?e-2*this._itemsPerRow:e-1),this._manageFocus(),this._assignModels(),this._updateMetrics();var t=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;this._physicalTop=t;for(var i=this._physicalStart,s=this._virtualStart,n=0,r=this._hiddenContentSize;s<e&&n<=r;)n+=this._getPhysicalSizeIncrement(i),i=(i+1)%this._physicalCount,s++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollerPaddingTop+n),this._increasePoolIfNeeded(),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){e&&Math.abs(this._viewportHeight-this._scrollTargetHeight)<100||Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",function(){this.updateViewportBoundaries(),this._render(),this._itemsRendered&&this._physicalItems&&this._isVisible&&(this._resetAverage(),this.scrollToIndex(this.firstVisibleIndex))}.bind(this),1))},_getModelFromItem:function(e){var t=this._collection.getKey(e),i=this._physicalIndexForKey[t];return null!=i?this._physicalItems[i]._templateInstance:null},_getNormalizedItem:function(e){if(void 0===this._collection.getKey(e)){if("number"==typeof e){if(e=this.items[e],!e)throw new RangeError("<item> not found");return e}throw new TypeError("<item> should be a valid item")}return e},selectItem:function(e){e=this._getNormalizedItem(e);var t=this._getModelFromItem(e);!this.multiSelection&&this.selectedItem&&this.deselectItem(this.selectedItem),t&&(t[this.selectedAs]=!0),this.$.selector.select(e),this.updateSizeForItem(e)},deselectItem:function(e){e=this._getNormalizedItem(e);var t=this._getModelFromItem(e);t&&(t[this.selectedAs]=!1),this.$.selector.deselect(e),this.updateSizeForItem(e)},toggleSelectionForItem:function(e){e=this._getNormalizedItem(e),this.$.selector.isSelected(e)?this.deselectItem(e):this.selectItem(e)},clearSelection:function(){function e(e){var t=this._getModelFromItem(e);t&&(t[this.selectedAs]=!1)}Array.isArray(this.selectedItems)?this.selectedItems.forEach(e,this):this.selectedItem&&e.call(this,this.selectedItem),this.$.selector.clearSelection()},_selectionEnabledChanged:function(e){var t=e?this.listen:this.unlisten;t.call(this,this,"tap","_selectionHandler")},_selectionHandler:function(e){var t=this.modelForElement(e.target);if(t){var i,s,n=Polymer.dom(e).path[0],o=Polymer.dom(this.domHost?this.domHost.root:document).activeElement,a=this._physicalItems[this._getPhysicalIndex(t[this.indexAs])];"input"!==n.localName&&"button"!==n.localName&&"select"!==n.localName&&(i=t.tabIndex,t.tabIndex=r,s=o?o.tabIndex:-1,t.tabIndex=i,o&&a.contains(o)&&s!==r||this.toggleSelectionForItem(t[this.as]))}},_multiSelectionChanged:function(e){this.clearSelection(),this.$.selector.multi=e},updateSizeForItem:function(e){e=this._getNormalizedItem(e);var t=this._collection.getKey(e),i=this._physicalIndexForKey[t];null!=i&&(this._updateMetrics([i]),this._positionItems())},_manageFocus:function(){var e=this._focusedIndex;e>=0&&e<this._virtualCount?this._isIndexRendered(e)?this._restoreFocusedItem():this._createFocusBackfillItem():this._virtualCount>0&&this._physicalCount>0&&(this._focusedIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_isIndexRendered:function(e){return e>=this._virtualStart&&e<=this._virtualEnd},_isIndexVisible:function(e){return e>=this.firstVisibleIndex&&e<=this.lastVisibleIndex},_getPhysicalIndex:function(e){return this._physicalIndexForKey[this._collection.getKey(this._getNormalizedItem(e))]},_focusPhysicalItem:function(e){if(!(e<0||e>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(e)||this.scrollToIndex(e);var t,i=this._physicalItems[this._getPhysicalIndex(e)],s=i._templateInstance;s.tabIndex=r,i.tabIndex===r&&(t=i),t||(t=Polymer.dom(i).querySelector('[tabindex="'+r+'"]')),s.tabIndex=0,this._focusedIndex=e,t&&t.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&Polymer.dom(this).removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedIndex=-1},_createFocusBackfillItem:function(){var e,t=this._focusedIndex;if(!(this._offscreenFocusedItem||t<0)){if(!this._focusBackfillItem){var i=this.stamp(null);this._focusBackfillItem=i.root.querySelector("*"),Polymer.dom(this).appendChild(i.root)}e=this._getPhysicalIndex(t),null!=e&&(this._offscreenFocusedItem=this._physicalItems[e],this._physicalItems[e]=this._focusBackfillItem,this.translate3d(0,s,0,this._offscreenFocusedItem))}},_restoreFocusedItem:function(){var e,t=this._focusedIndex;!this._offscreenFocusedItem||this._focusedIndex<0||(this._assignModels(),e=this._getPhysicalIndex(t),null!=e&&(this._focusBackfillItem=this._physicalItems[e],this._physicalItems[e]=this._offscreenFocusedItem,this._offscreenFocusedItem=null,this.translate3d(0,s,0,this._focusBackfillItem)))},_didFocus:function(e){var t=this.modelForElement(e.target),i=this._focusedItem?this._focusedItem._templateInstance:null,s=null!==this._offscreenFocusedItem,n=this._focusedIndex;t&&i&&(i===t?this._isIndexVisible(n)||this.scrollToIndex(n):(this._restoreFocusedItem(),i.tabIndex=-1,t.tabIndex=0,n=t[this.indexAs],this._focusedIndex=n,this._focusedItem=this._physicalItems[this._getPhysicalIndex(n)],s&&!this._offscreenFocusedItem&&this._update()))},_didMoveUp:function(){this._focusPhysicalItem(this._focusedIndex-1)},_didMoveDown:function(e){e.detail.keyboardEvent.preventDefault(),this._focusPhysicalItem(this._focusedIndex+1)},_didEnter:function(e){this._focusPhysicalItem(this._focusedIndex),this._selectionHandler(e.detail.keyboardEvent)}})}(),Polymer({is:"activity-list",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],setBackground:function(e){return e%2?"#efefef":"#fff"},ovalActivities:function(e){return 7==e.app_id||8==e.app_id||9==e.app_id}}),Polymer({is:"activities-page",behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"username-input",properties:{label:{type:String,value:"username"},placeholder:{type:String,value:""},autofocus:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!0},disabled:{type:Boolean,value:!1},readonly:{type:Boolean,value:!1},invalid:{type:Boolean,notify:!0,value:!1},required:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},noLabel:{type:Boolean,value:!1}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"input-join-wrapper",properties:{value:{type:String,notify:!0},autoValidate:{type:Boolean,value:!0},label:{type:String,value:""},noLabel:{type:Boolean,value:!1,reflectToAttribute:!0},dividerWidth:{type:Number,value:2},joinWith:{type:String,value:""},reverseValues:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1,notify:!0},readonly:{type:Boolean,value:!1,notify:!0},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},invalid:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundOnInvalid:{type:Function,value:function(){return this._onInvalid.bind(this)}}},behaviors:[Polymer.IronFormElementBehavior],observers:["_valueUpdated(value)"],ready:function(){var e=this,t=this.queryAllEffectiveChildren("input"),i=this.queryAllEffectiveChildren(":not(input):not([prefix]):not([suffix])"),s=(100-i.length*this.dividerWidth)/t.length;t.forEach(function(i){i.addEventListener("focus",e._boundOnFocus),i.addEventListener("blur",e._boundOnBlur),i.addEventListener("input",e._boundOnInput),i.addEventListener("change",e._boundOnInput),i.addEventListener("invalid",e._boundOnInvalid),i.style.width=s+"%",i.setAttribute("_previousValidInput",""),i.disabled=e.disabled,i.readOnly=e.readonly,t.length>1&&i.style.setProperty("text-align","center","important")}),i.forEach(function(t){t.style.width=e.dividerWidth+"%"})},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._autoValidateInputs()},_onInvalid:function(){this.invalid=!0},_autoValidateInputs:function(){if(this.autoValidate||this.invalid){var e=this.queryAllEffectiveChildren("input");e.some(function(e){return!e.validity.valid})?this.invalid=!0:this.invalid=!1}},_updateValue:function(){var e=this.queryAllEffectiveChildren("input"),t=e.map(function(e){return e.value});this.value=this.reverseValues?t.reverse().join(this.joinWith):t.join(this.joinWith)},_valueUpdated:function(e){var t=this.queryAllEffectiveChildren("input"),i=this.reverseValues?e.split(this.joinWith).reverse():e.split(this.joinWith);t.forEach(function(e,t){e.value=i[t]||""}),this.invalid&&this._autoValidateInputs()},_patternRegExp:function(e){var t=void 0,i=e.getAttribute("allowed-pattern");if(i)t=new RegExp(i);else switch(e.type){case"number":t=/[0-9.,e-]/}return t},_checkPatternValidity:function(e){var t=this._patternRegExp(e);if(!t)return!0;for(var i=0;i<e.value.length;i++)if(!t.test(e.value[i]))return!1;return!0},_onInput:function(e){var t=e.target,i=this._checkPatternValidity(t);i?(t.setAttribute("_previousValidInput",t.value),this._autoValidateInputs(),this._updateValue()):t.value=t.getAttribute("_previousValidInput")}}),Polymer({is:"select-wrapper",properties:{label:{type:String,value:""},name:{type:String},noLabel:{type:Boolean,value:!1,reflectToAttribute:!0},size:{type:Number,value:3},disabled:{type:Boolean,value:!1,notify:!0},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},invalid:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},placeholder:{type:String,notify:!0},selected:{type:String,notify:!0},attrForSelected:{type:String,notify:!0},options:{type:Object,notify:!0},optionLabel:{type:String},optionValue:{type:String},optionInvert:{type:Boolean,value:!1,notify:!0},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInvalid:{type:Function,value:function(){return this._onInvalid.bind(this)}}},observers:["_setSelected(selected, attrForSelected, options)","_renderPlaceholder(placeholder)","_renderOptions(options)"],ready:function(){var e=this.queryEffectiveChildren("select");e||(e=this._createSelect()),e.addEventListener("focus",this._boundOnFocus),e.addEventListener("blur",this._boundOnBlur),e.addEventListener("invalid",this._boundOnInvalid),e.addEventListener("click",this._onSelectClick),e.disabled=this.disabled,e.setAttribute("size",!1),e.setAttribute("autocomplete","off"),this._setSelected(this.selected,this.attrForSelected),this._renderPlaceholder(this.placeholder)},_renderPlaceholder:function(e){var t=void 0,i=void 0,s=void 0;if(e)return t=this.queryEffectiveChildren("select"),(i=t.options[0])?void(i.placeholder?i.innerText!==e&&(this._createPlaceholder(t,e,i),Polymer.dom(t).removeChild(i)):(s=this._createPlaceholder(t,e,i),this.selected||(s.selected=!0,i.selected=!1))):void this._createPlaceholder(t,e)},_createPlaceholder:function(e,t,i){var s=document.createElement("option");return s.placeholder=!0,s.innerText=t,s.disabled=!0,i?Polymer.dom(e).insertBefore(s,i):Polymer.dom(e).appendChild(s),s},_setSelected:function(e,t){var i=this.queryEffectiveChildren("select"),s=i.option,n=void 0;if(s)for(var r=0;r<s.length;r++)n=optionsNodes[r],n.onclick=this._onOptionClick,0===r&&n.placeholder&&!t&&e&&(e=parseInt(e)+1),(e&&n[t]===e||r===parseInt(e))&&(n.selected=!0)},_renderOptions:function(e){var t=this,i=this.queryEffectiveChildren("select"),s=i.options,n=void 0,r=void 0,o=void 0,a=void 0,l=void 0;for(r=0;r<s.length;r++)n=s[r],n.autoAdded&&Polymer.dom(i).removeChild(n);if(Array.isArray(e))e.forEach(function(e){if(a=e[t.optionLabel]||e.key||e,l=e[t.optionValue]||e.value||e,t.optionInvert){var s=[l,a];a=s[0],l=s[1]}t._createOption(i,a,l)});else for(o in e)a=this.optionInvert?e[o]:o,l=this.optionInvert?o:e[o],this._createOption(i,a,l);this._setSelected(this.selected,this.attrForSelected)},_createOption:function(e,t,i){var s=document.createElement("option");s.innerHTML=t,s.value=i,s.autoAdded=!0,s.addEventListener("click",this._onOptionClick),Polymer.dom(e).appendChild(s)},_createSelect:function(){return selectNode=document.createElement("select"),selectNode.name=this["for"]||this.name,Polymer.dom(this).appendChild(selectNode),selectNode},_onFocus:function(e){this._setFocused(!0),e.target.setAttribute("size",this.size)},_onBlur:function(e){this._setFocused(!1),e.target.setAttribute("size",!1),e.target.opened=!1},_onInvalid:function(){this.invalid=!0},_onOptionClick:function(e){e.target.parentNode.blur()},_onSelectClick:function(e){var t=e.target;"SELECT"===t.tagName&&(t.opened?(t.opened=!1,t.blur()):t.opened=!0)}}),Polymer({is:"nationality-dropdown",properties:{invalid:{type:Boolean,value:!1,notify:!0},label:String,name:String,noLabel:{type:Boolean,value:!1},size:{type:Number,value:4},disabled:{type:Boolean,value:!1},selected:{type:String},attrForSelected:{type:String}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"user-detail-inputs",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"form-template",behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior,RubberRedux.FormBehavior]}),Polymer({is:"form-section",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"profile-page",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"block-subtitle",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"reservation-summary",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],toArray:function(e){return e?Object.keys(e).map(function(t){return{key:t,value:e[t]}}):[]},areaToString:function(e){return this.i18n("BLOCK")+" "+e.key+":"},rowToString:function(e){return this.i18n("ROW")+" "+e.key+" - "+this.i18n("SEATS")+" "+e.value.sort().join(", ")}}),Polymer({is:"prepay-summary",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"terms-checkbox",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],_termsChecked:function(){var e=this.$.terms;e.hasAttribute("checked")?e.removeAttribute("checked"):e.setAttribute("checked",!0),this.store.dispatch({type:"TERMS_CHECKED",checked:e.hasAttribute("checked")})}}),Polymer({is:"card-detail-inputs",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"contact-detail-inputs",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"prepay-form",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],_ratesArray:function(e){if(e)return e.map(function(e){return{key:e.name+" £"+e.price,value:e.id}})}}),Polymer({is:"prepay-page",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"circle-header",properties:{number:String,icon:String,title:String},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"member-list",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],showMember:function(e,t){return e.email||e.mobile||e.name||t.first_name||t.username},selectionOfMember:function(e,t){return e.find(function(e){return e.payer_id===t.user_id})},memberStatus:function(e,t){var i=this.selectionOfMember(e,t);if(!i)return this.i18n("INVITED");switch(i.status){case"":return this.i18n("JOINED");case"FA":return this.i18n("PRE_PAID");case"FP":return this.i18n("PAID");default:return""}},memberIcon:function(e,t){var i=this.selectionOfMember(e,t);if(!i)return"invited";switch(i.status){case"":return"joined";case"FA":return"pre-paid";case"FP":return"paid";default:return""}},setBackground:function(e){return e%2?"#efefef":"#fff"},isGroupLeader:function(e){return e.inviter_id==e.user_id},groupLeader:function(e){return this.isGroupLeader(e)?"group-leader":""}}),Polymer({is:"seats-summary",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],_updateState:function(e){this.groupSeatsMapped=this.getGroupSeatsMapped(e)},areaToString:function(e){return this.i18n("BLOCK")+" "+e.key+":"},rowToString:function(e){return this.i18n("ROW")+" "+e.key+" - "+this.i18n("SEATS")+" "+e.value.sort().join(", ")}}),Polymer({is:"add-user-button",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"activity-page",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"seat-selection-template"}),Polymer({is:"seat-selection-counter",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"seat-selection-info",properties:{basePrice:Number},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior]}),Polymer({is:"seat-selector-color-keys",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]});var SeatSelector={};Polymer({is:"seat-selector",properties:{seatData:{type:Object,notify:!0,observer:"_updateSeats"}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior,RubberRedux.D3Behavior],ready:function(){var e=this;window.addEventListener("WebComponentsReady",function(t){e.seatsSvg=e.d3.select("seat-selector").append("svg").style("display","block").style("margin","20px 0").style("left","50%").style("position","relative").style("transform","translateX(-50%)"),e.seatSelectorMain=e.seatsSvg.append("g"),SeatSelector.Tooltip=e.d3.select("body").append("div").attr("class","tooltip").style("opacity",0),SeatSelector.config_MapColors=e.config_MapColors,SeatSelector.store=e.store,SeatSelector.d3=e.d3,SeatSelector._isTogglableKeys={ava:!0},SeatSelector.HasRequiredSeats=function(){return e.selectedSeats_HasRequiredSeats}})},_updateSeats:function(e){var t=this;if(this.seatSelectorMain&&e.seats&&e.seats.length){var i=e.seats,s=e.id,n=e.w,r=e.h,o={BB:"South stand"},a=o[s];this.seatsSvg.attr("width",n).attr("height",r),this.seatCircles=this.seatSelectorMain.selectAll("circle").data(i),this.seatCircles.exit().remove(),this.seatCircles.enter().append("circle").data(i).merge(this.seatCircles).data(i).style("fill",function(e){return t.config_MapColors[e.state]}).attr("r",6).attr("cy",function(e){return e.cy}).attr("cx",function(e){return e.cx}).attr("class",function(e){return e.state}).on("click",function(e){var t=SeatSelector.d3.select(this),i=t.attr("class");SeatSelector._isTogglableKeys[i]&&(SeatSelector.HasRequiredSeats()&&("ava"===e.state&&!e.toggled||"pre"===e.state&&e.toggled)||(SeatSelector.store.dispatch({type:"TOGGLE_SEAT",seat:e,area:s}),e.toggled=!e.toggled,t.style("fill",SeatSelector.config_MapColors[""+e.state+(e.toggled?"_toggled":"")])))}).on("mouseover",function(e){var t=e.id.split("-");SeatSelector.Tooltip.html("\n          STAND : <span>"+a+"      </span><br>\n          AREA :  <span>"+s+"       </span><br>\n          ROW :   <span>"+t[0]+"</span><br>\n          SEAT :  <span>"+t[1]+"</span><br>\n        ").style("opacity",.9).style("display","block").style("left",SeatSelector.d3.event.pageX-70+"px").style("top",SeatSelector.d3.event.pageY-94+"px");
}).on("mouseout",function(e){SeatSelector.Tooltip.style("display","none")})}}}),Polymer({is:"continue-button",properties:{btnIcn:String,btnText:{type:String,value:"Continue"}},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior]}),Polymer({is:"seat-selection-page",properties:{},behaviors:[RubberRedux.i18nBehavior,RubberRedux.StateBehavior,RubberRedux.DispatchBehavior],allSelected:function(e){return e.seatmaps.selectedCount===e.invitees.list.length+1},allAdditionalSelected:function(e){return e.seatmaps.selectedCount===e.invites.list.length},seatMapsClass:function(e){return e?"submap":"root"},_updateState:function(e){this.isAddUser=!!this.getPreSelectedSeatsCount(this.state),this.currentMapName=this.getCurrentMapName(this.state),this.productPrice=this.getProductPrice(this.state)}});